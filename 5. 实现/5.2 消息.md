Kafka 的消息是由一个长度可变的 header、一个长度可变且不透明的 key 字节数组以及一个长度可变且不透明的 value 字节数组组成。header 的格式会在下一节介绍。key 和 value 都保持不透明是一个很正确的决定，因为现在用于序列化的第三方库发展很快，任何特定的格式都不会适用于所有使用场景，通常来说，使用 Kafka 的特定应用程序很有可能会要求使用特定的序列化器。`RecordBatch`接口就是消息的一个简单迭代器，它有一些专门的方法用于向 NIO 通道进行批量读写。